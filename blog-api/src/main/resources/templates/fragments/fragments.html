<div th:fragment="head">
    <head>
        <meta charset="UTF-8">
        <title>Blog</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
              crossorigin="anonymous">
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.7.0/font/bootstrap-icons.min.css"
              integrity="sha512-yLNTU6YQWEtsM/WVkUqd2jRzzq5hmfFUMVvziVlkgC0R9HTElDtyF4DiWiBeMS36npvN+NWwrr764A4AWGcmQQ=="
              crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <!-- CSS -->
        <link rel="stylesheet" th:href="@{/css/style.css}">
    </head>
</div>

<div th:fragment="header" xmlns:sec="http://www.w3.org/1999/xhtml">
    <header class="fixed-top">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">BLOG</a>
                <div class="custom-auth-font p-2">
                    <div class="nav-item dropdown d-inline-block me-2">
                        <div class=" dropdown-toggle"
                             href="#"
                             id="navbarDropdownMenuLink"
                             role="button"
                             data-bs-toggle="dropdown"
                             aria-expanded="false">
                            <span class="d-none d-sm-inline" th:text="#{lt.blog.languages}"></span>
                        </div>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" th:href="${#httpServletRequest.requestURI} + '?lang=EN'" th:text="#{lt.blog.en}"></a></li>
                            <li><a class="dropdown-item" th:href="${#httpServletRequest.requestURI} + '?lang=LT'" th:text="#{lt.blog.lt}"></a></li>
                        </ul>
                    </div>
                    <i sec:authorize="isAnonymous()" class="bi bi-lock-fill" id="display-auth"></i>
                    <span sec:authorize="isAuthenticated()" class="d-none d-sm-inline"><span th:text="#{lt.blog.welcome}"></span>, [[${#request.userPrincipal.principal.username}]]!</span>
                    <form sec:authorize="isAuthenticated()" th:action="@{/logout}" method="POST">
                        <button type="submit"><i class="bi bi-box-arrow-in-right"></i></button>
                    </form>
                </div>
            </div>
        </nav>
        <div class="container-fluid bg-light col-12 col-lg-3 col-md-4 col-sm-6 position-absolute top-100 end-0 p-2 d-none">
            <!--       FORM LOGIN-->
            <div th:replace="fragments/login-form.html :: info-form"></div>
            <!--FORM REGISTER-->
            <div th:replace="fragments/register-form.html :: info-form"></div>
        </div>
    </header>
</div>

<div th:fragment="info-messages">
    <div class="shadow-full d-none"></div>
    <div class="response-message-center d-none alert position-fixed p-2 rounded"></div>

    <!-- Modal confirm -->
    <div class="modal" id="confirmModal" style="display: none; z-index: 1050;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body" id="confirmMessage">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="confirmOk">Ok</button>
                    <button class="btn btn-light" id="confirmCancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

</div>
<div th:fragment="js-css">
    <script type="text/javascript">
        const strings = [];
        strings['lt.blog.areYouSureDelete'] = "[[#{lt.blog.areYouSureDelete}]]";
        strings['lt.blog.confirm'] = "[[#{lt.blog.confirm}]]";
        strings['lt.blog.cancel'] = "[[#{lt.blog.cancel}]]";
    </script>
    <!--  Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
    <!-- JS -->
    <script th:src="@{/js/main.js}"></script>
</div>